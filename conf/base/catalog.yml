pypi_kedro_downloads:
  type: kedro_datasets.snowflake.SnowparkTableDataset
  table_name: "V_PYPI_KEDRO_DOWNLOADS"
  database: "KEDRO_BI_DB"  # Snowflake database
  schema: "PYPI"  # Schema inside the database
  credentials: snowflake_credentials

# Save results locally as CSV
pypi_kedro_downloads_table:
  type: pandas.CSVDataset
  filepath: data/02_intermediate/pypi_kedro_downloads.csv
  save_args:
    index: False

new_kedro_users_monthly:
  type: pandas.CSVDataset
  filepath: data/02_intermediate/new_kedro_users_monthly.csv
  save_args:
    index: False

mau_kedro:
  type: pandas.CSVDataset
  filepath: data/02_intermediate/mau_kedro.csv
  save_args:
    index: False

kedro_plugins_mau:
  type: pandas.CSVDataset
  filepath: data/02_intermediate/kedro_plugins_mau.csv

kedro_commands_mau:
  type: pandas.CSVDataset
  filepath: data/02_intermediate/kedro_commands_mau.csv

downloads_by_country:
  type: kedro_datasets.snowflake.SnowparkTableDataset
  table_name: "V_DOWNLOADS_BY_COUNTRY"
  database: "KEDRO_BI_DB"
  schema: "PYPI"
  credentials: snowflake_credentials

downloads_by_country_table:
  type: pandas.CSVDataset
  filepath: data/02_intermediate/downloads_by_country.csv
  save_args:
    index: False